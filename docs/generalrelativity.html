<html>
<head>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../typetheory.js" charset="utf-8"></script>
    <script src="../definitions.js" charset="utf-8"></script>
</head>

<link rel="stylesheet" type="text/css" href="doc.css">

</style>


<div class="content">
<h1>General Relativity</h1>
<h2>Metric</h2>

We define the metric by  

<script>
    createInput(
`mu = Var("\\mu",Zmod(4));
nu = Var("\\nu",Zmod(4));
tau = Var("\\tau",Zmod(4));
sigma = Var("\\sigma", Zmod(4));

vec4 = Zmod(4).to(Real);
x = Var("x",vec4);
phi = Var("\\phi",(vec4).to(Real));

g = Var(i=>j=>"g_{"+i+" "+j+"}",Zmod(4).to(Zmod(4).to((vec4).to( Real))));
ginv = Var(i=>j=>"g^{"+i+" "+j+"}",Zmod(4).to(Zmod(4).to((vec4).to( Real))));

g(mu,nu)(x);
sub(vec4.to(R), sub( vec4.to(R), PDeriv(4)(tau)(g(mu,nu)) ,PDeriv(4)(mu)(g(tau,nu)))   , 

PDeriv(4)(nu)(g(mu,tau))) ;

gamma=defineVar(x=>y=>z=>"\\Gamma_{"+x+" "+y+" "+z+"}", FUN(Zmod(4),i=>FUN(Zmod(4),j=>FUN(Zmod(4),k=>
sub(vec4.to(R), sub( vec4.to(R), PDeriv(4)(tau)(g(mu,nu)) ,PDeriv(4)(mu)(g(tau,nu)))   , PDeriv(4)(nu)(g(mu,tau)))   ))) );

gamma(mu,nu,tau)(x)
t=phi.type

Gamma=defineVar(x=>y=>z=>"\\Gamma^{"+x+"}_{\\ "+y+" "+z+"}", FUN(Zmod(4),i=>FUN(Zmod(4),j=>FUN(Zmod(4),k=>
DotT(t)(4)( ginv(i), gamma(j,k) )
))) );
Gamma(mu,nu,tau);

"The first two terms of the Riemann curvature tensor are:";
sub(t,PDeriv(4)(sigma)(Gamma(mu,nu,tau)),PDeriv(4)(tau)(Gamma(mu,nu,sigma)) );

Riemann = Var(x=>y=>z=>t=>"R^{"+x+"}_{"+y+" "+z+" "+t+"}", Zmod(4).to(Zmod(4).to(Zmod(4).to(Zmod(4).to(  Zmod(4).to(Real).to(Real) ) ))  ))
TraceT(t)(4)(TraceT(Riemann(1,2).type)(4)(Riemann))

`.replaceAll("\\","\\\\"))
</script>

In actual fact the gamma's are matrices \( (R_{cb})^{a}_d  =  D_{b} \Gamma_c - D_{c} \Gamma_b   +   \Gamma_b \times \Gamma_c - \Gamma_c \times \Gamma_b  \)
or \( (R^b_c)^{a}_d  =  D_{b} \Gamma^c - D_{c} \Gamma^b   +   \Gamma_b \times \Gamma^c - \Gamma_c \times \Gamma^b  \) ?

<br>Also need to write this with Id (matrix version) instead of g

<script>
    createInput(
`g=Var("g",GL(4)(Vec(4,R).to(R))); 
`)
</script>


$$\sqrt{1}$$
</div>
</html>